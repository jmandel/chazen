(this.webpackJsonpsitting=this.webpackJsonpsitting||[]).push([[0],[,,,,,,function(e,t,a){e.exports=a(13)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),c=a(5),i=a.n(c),l=(a(11),a(2)),s=a(1),u=a(3);!function(e){e[e.study=0]="study",e[e.court=1]="court",e[e.niche=2]="niche",e[e.bridge=3]="bridge"}(n||(n={}));a(12);var d=new(window.AudioContext||window.webkitAudioContext),b=[["Objects Study Room",n.study],["Paige Court",n.court],["Japanese Niche",n.niche],["Bridge",n.bridge]],m=window.location.hash.slice(1),f=Object.keys(n).includes(m)?n[m]:n.study,y={iteration:0,gallery:f,offset:0,modal:"Welcome"},g=function(e,t){switch("playbackStatus"!==t.type&&console.log(e,t),t.type){case"requestGallery":return Object(u.a)({},e,{gallery:t.gallery});case"requestIteration":return Object(u.a)({},e,{iteration:t.iteration||0});case"playbackStatus":return Object(u.a)({},e,{offset:t.offset});case"dismissModal":return Object(u.a)({},e,{modal:void 0});case"debug":return Object(u.a)({},e,{debug:(e.debug||0)+t.debugStatus});default:return e}},p=function(e,t,a){0==t?(a.pause(),w("Audio pause")):(a.play(),w("Audio play"))},v=function(e){var t=e.x,a=e.y,n=e.fractionComplete*(2*t+2*a-40),r=[t-10,a-10,t-10,a-10];r.forEach((function(e,t){n<e&&(r[t]=e=Math.min(e,n)),n-=e}));return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{key:"0",style:{position:"absolute",top:0,left:10,width:"".concat(r[0],"px"),borderTop:"10px solid #bbbbbb"}}),o.a.createElement("div",{key:"1",style:{position:"absolute",right:0,top:10,height:"".concat(r[1],"px"),borderRight:"10px solid #bbbbbb"}}),o.a.createElement("div",{key:"2",style:{position:"absolute",bottom:0,right:10,width:"".concat(r[2],"px"),borderBottom:"10px solid #bbbbbb"}}),o.a.createElement("div",{key:"3",style:{position:"absolute",left:0,bottom:10,height:"".concat(r[3],"px"),borderLeft:"10px solid #bbbbbb"}}))},h=function(){var e=Object(r.useState)(null),t=Object(s.a)(e,2),a=t[0],n=(t[1],Object(r.useState)()),o=Object(s.a)(n,2),c=o[0],i=o[1];return[Object(r.useCallback)((function(e){i(e)}),[]),a,c]},E=function(e){return e[2]},w=function(e){var t=document.getElementById("log");t.innerText=t.innerText+"\n"+e};window.onerror=function(e,t,a,n,r){return w("Error occurred: "+r.message),!1},window.addEventListener("error",(function(e){return w("Error occurred: "+e.error.message),!1})),w("LOG"),console.log("ACState",d.state);var O=function(){var e,t=Object(r.useReducer)(g,y),a=Object(s.a)(t,2),c=a[0],i=a[1],u=Object(r.useRef)(null),d=(e={},Object(l.a)(e,n.study,h()),Object(l.a)(e,n.court,h()),Object(l.a)(e,n.niche,h()),Object(l.a)(e,n.bridge,h()),e);Object(r.useEffect)((function(){var e=setInterval((function(){var e=E(d[c.gallery]);if(e){var t=e.currentTime,a=c.iteration,n=Math.floor(t/m);a!==n&&(console.log("Rollover iteration",c.gallery,a,n),i({type:"requestIteration",iteration:n}),0==n&&x(f)),i({type:"playbackStatus",offset:t})}}),50);return function(){clearInterval(e)}}),[c.gallery,c.iteration,d[c.gallery][2]]);var m=64.32,O=c.offset%m/m*1,j=u.current?u.current.getBoundingClientRect():{width:100,height:100},k=j.width,N=j.height,x=function(e){var t=E(d[c.gallery]);if(t){var a=t.currentTime;w("Requeste gal at "+a);var n=E(d[e]);n.play(),n.currentTime=a,b.forEach((function(t){var a=Object(s.a)(t,2),n=(a[0],a[1]);n!==e&&p(0,0,d[n][2])})),p(0,1,d[e][2]),i({type:"requestGallery",gallery:e})}};return o.a.createElement("div",{className:"App"},c.modal&&o.a.createElement("div",{className:"modal"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("button",{className:"button start-button",onClick:function(){var e=E(d[c.gallery]);e&&(b.forEach((function(e){var t=Object(s.a)(e,2),a=(t[0],t[1]);p(0,1,d[a][2]),p(0,0,d[a][2])})),e.play(),i({type:"dismissModal"}))}},"Begin"))),o.a.createElement("div",{className:"wrapper"},o.a.createElement("header",{className:"header"},b.map((function(e){var t=Object(s.a)(e,2),a=(t[0],t[1]);return o.a.createElement("audio",{key:a,ref:d[a][0],loop:!0,preload:"auto",controls:!0,src:"".concat(n[a],".mp3"),className:"begin"})}))),o.a.createElement("div",{className:"menu"}),o.a.createElement("div",{className:"gutter"}),[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15].map((function(e,t){var a="icon-".concat(n[c.gallery],"-").concat(String(t).padStart(2,"0"),".svg"),r="iteration".concat(Math.floor(t/4)).concat(t%4),l="iteration \n                ".concat(c.iteration===e?"playing":"","\n                gallery-").concat(c.gallery,"\n              ");return o.a.createElement("span",{ref:0==t?u:null,key:t,className:l,style:{gridArea:r}},e===c.iteration&&o.a.createElement(v,{x:k,y:N,fractionComplete:O}),o.a.createElement("img",{src:a,onClick:function(){var a=E(d[c.gallery]);if(a){a.play();var n=a.currentTime-0;a.currentTime=n%m+t*m,i({type:"requestIteration",iteration:e})}}}))})),o.a.createElement("footer",{className:"footer"},o.a.createElement("div",{className:"gallery-selection"},b.map((function(e){var t=Object(s.a)(e,2),a=t[0],r=t[1];return o.a.createElement("div",{className:"button-wrapper"},o.a.createElement("button",{key:r,onClick:function(){return x(r)},className:"\n                ".concat(c.gallery===r?"selected":"default","\n                ").concat(n[c.gallery],"\n              ")},a),r===f&&o.a.createElement("span",{className:"youarehere"},"YOU ARE HERE"))}))),o.a.createElement("div",null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[6,1,2]]]);
//# sourceMappingURL=main.5fe7bda9.chunk.js.map